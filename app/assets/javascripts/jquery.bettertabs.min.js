(function(){
/*!
   jQuery Bettertabs Plugin
   version: 1.4.1 (Mar-12-2012)
   @requires jQuery v1.3 or later

   Examples and documentation at: https://github.com/agoragames/bettertabs

   Copyright (c) 2011 Mario Izquierdo (tothemario@gmail.com)
   Dual licensed under the MIT and GPL licenses:
     http://www.opensource.org/licenses/mit-license.php
     http://www.gnu.org/licenses/gpl.html
  */
;var $,ajax_url_attr,content_id_from,show_content_id_attr,tab_type_attr,tab_type_of;$=jQuery;tab_type_attr="data-tab-type";show_content_id_attr="data-show-content-id";ajax_url_attr="data-ajax-url";tab_type_of=function(a){return a.attr(tab_type_attr)};content_id_from=function(a){return a.attr(show_content_id_attr)};$.Bettertabs={change_browser_url:function(a){if((typeof history!=="undefined"&&history!==null)&&(history.replaceState!=null)){return history.replaceState(null,document.title,a)}},select_tab:function(b,a){return $("#"+a+"_"+b+"_tab a").click()},escape_special_characters:function(a){return a.replace(/(&|:|\.|\[|\])/g,"\\$1")}};$.fn.bettertabs=function(){this.each(function(){var a,c,e,b,d,f;f=$(this);c=f.find("ul.tabs > li");d=f.find("ul.tabs > li > a");b=f.children(".content:not(.content-only-block)");e=c.add(b);a=d.filter(".active");if(tab_type_of(a)==="ajax"){a.data("content-loaded-already",true)}return d.click(function(j){var l,m,i,h,k,g;h=$(this);if(tab_type_of(h)!=="link"){j.preventDefault();k=h.parent();if(!k.hasClass("active")&&!h.hasClass("ajax-loading")){g=b.filter("#"+(escape_special_characters(content_id_from(h))));m=c.filter(".active");i=b.filter(".active");l=function(){c.removeClass("active");d.removeClass("active");b.removeClass("active").addClass("hidden");k.addClass("active");h.addClass("active");g.removeClass("hidden").addClass("active");i.trigger("bettertabs-after-deactivate");g.trigger("bettertabs-after-activate");return $.Bettertabs.change_browser_url(h.attr("href"))};i.trigger("bettertabs-before-deactivate");g.trigger("bettertabs-before-activate");if(tab_type_of(h)==="ajax"&&!(h.data("content-loaded-already")!=null)){h.addClass("ajax-loading");g.trigger("bettertabs-before-ajax-loading");return g.load(h.attr(ajax_url_attr),function(o,p,n){if(p==="error"){return window.location=h.attr("href")}else{h.removeClass("ajax-loading");h.data("content-loaded-already",true);g.trigger("bettertabs-after-ajax-loading");return l()}})}else{return l()}}}})});return this};